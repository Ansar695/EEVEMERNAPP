{"version":3,"sources":["components/profile/Profile.js"],"names":["Profile","history","useHistory","params","useParams","useState","designer_img","setDesigner_imgs","setLoader","user","setUser","liks","setLiks","community","setCommunity","getUserProfileInfo","a","axios","get","then","res","status","console","log","data","catch","err","push","getLikesInfo","length","map","like","likes","getCurrentUserImages","id","fetch","method","headers","result","json","error","useEffect","className","func","company_description","src","file","name","sur_name","Math","abs","parseInt","sign","toFixed","imgs","designer_imgs","alt","part_imgs","cad_imgs"],"mappings":"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","file":"static/js/4.1f04f5d7.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Footer from '../footer/Footer';\r\nimport Header from '../header/Header';\r\nimport './profile.css'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Profile = () => {\r\n   const history = useHistory() \r\n    const params = useParams()\r\n    const[designer_img, setDesigner_imgs] = useState()\r\n    const[loader, setLoader] = useState(false)\r\n    const[user, setUser] = useState()\r\n    const[liks, setLiks] = useState([])\r\n    var[community, setCommunity] = useState(0)\r\n\r\n    const getUserProfileInfo=async()=>{\r\n        setLoader(true)\r\n        await axios.get(`/userProfile`)\r\n        .then((res) => {\r\n            if(res.status===200){\r\n                console.log(\"res.data\", res)\r\n                setUser(res.data)\r\n            }\r\n            setLoader(false)\r\n        }).catch((err) => {\r\n            setLoader(false)\r\n            console.log(err)\r\n            history.push(\"/login\")\r\n        })\r\n    }\r\n\r\n    const getLikesInfo=async()=>{\r\n        await axios.get(`/userLikes`)\r\n        .then((res) => {\r\n            if(res.status===200){\r\n                console.log(res.data)\r\n                const {data} = res;\r\n                setLiks(data)\r\n                data&&data.length>0&&data.map((like) => {\r\n                    if(like.likes){\r\n                        community += like.likes.length \r\n                    }\r\n                })\r\n                setCommunity(community)\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            // history.push(\"/login\")\r\n        })\r\n    }\r\n\r\n\r\n    // const getAllDesignerImages=async()=>{\r\n    //     const id = params.id\r\n    //     try {\r\n    //         const result = await fetch(`/getAll_Designers_Images`, {\r\n    //             method: \"GET\",\r\n    //             headers: {\r\n    //                 \"Content-type\": \"application/json\"\r\n    //             }\r\n    //         })\r\n    //         const data = await result.json()\r\n    //         setDesigner_imgs(data)\r\n    //         console.log(data)\r\n    //     } catch (error) {\r\n    //         console.error(error)\r\n    //     }\r\n    // }\r\n\r\n    const getCurrentUserImages=async()=>{\r\n        const id = params.id\r\n        try {\r\n            const result = await fetch(`/getCurrentUserUploadedImages`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-type\": \"application/json\"\r\n                }\r\n            })\r\n            const data = await result.json()\r\n            setDesigner_imgs(data)\r\n            console.log(\"data\")\r\n            console.log(data)\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getUserProfileInfo()\r\n        getLikesInfo()\r\n        getCurrentUserImages()\r\n    },[])\r\n\r\n    return (\r\n        <>\r\n        <div className=\"st-header\">\r\n            <Header />\r\n                <div className='st-container' id='profilecontent'>\r\n                   \r\n                    <div className='st-content'>\r\n                       \r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"row profile_row\">\r\n                                        <div className=\"col-md-4 col-12 d-flex align-items-center justify-content-center\">\r\n                                            <div>\r\n                                                <h4 className='sologn_desc'>{user&&user.func}</h4>\r\n                                                <h4 className='sologn_desc'>{user&&user.company_description}</h4>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-4 col-12\">\r\n                                            <div className='text-center mx-auto pr_pic2'>\r\n                                                <div className='pr_pic mx-auto'>\r\n                                                <img src={user&&user.file?`/images/${user.file}`:\"/images/avt.jpg\"} />\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                            <div className='text-center'>\r\n                                                <h1 className=\"jasen\">{user?user.name:\"User\"} {user?user.sur_name:\"Name\"}</h1>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-4 col-12\">\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-lg-1\"></div>\r\n                                                <div className=\"col-lg-10 col-md-12\">\r\n                                                    <div className='prof_stats'>\r\n                                                        <span>Concepts:</span><span>\r\n                                                        {liks&&\r\n                                                            Math.abs(parseInt(liks.length))>=1000?\r\n                                                            Math.sign(parseInt(liks.length))*((Math.abs(parseInt(liks.length))/1000).toFixed(1))+\"k\" :\r\n                                                            Math.sign(parseInt(liks.length))*Math.abs(parseInt(liks.length))\r\n                                                        }\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div className='prof_stats'>\r\n                                                        <span>Coummunity likes:</span><span>\r\n                                                        {\r\n                                                            Math.abs(community)>=1000?\r\n                                                            Math.sign(community)*((Math.abs(community)/1000).toFixed(1))+\"k\" :\r\n                                                            Math.sign(community)*Math.abs(community)\r\n                                                        }\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div className='prof_stats'>\r\n                                                        <span>Instagram likes:</span><span> 00</span>\r\n                                                    </div>\r\n                                                    <div className='prof_stats'>\r\n                                                        <span>Participations:</span><span>00</span>\r\n                                                    </div>\r\n                                                    <div className='prof_stats'>\r\n                                                        <span>Jury likes:</span><span>00</span>\r\n                                                    </div>\r\n                                                 \r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='picdiv_para'>\r\n                                        \r\n                                        {designer_img?designer_img.map((imgs) => (\r\n                                            <div className=\"pic_div\">\r\n                                                {imgs.designer_imgs&&<><img src={imgs.designer_imgs&&imgs.designer_imgs} alt=\"\" /></>}\r\n                                                {imgs.part_imgs&&<><img src={imgs.part_imgs&&imgs.part_imgs} alt=\"\" /></>}\r\n                                                {imgs.cad_imgs&&<><img src={imgs.cad_imgs&&imgs.cad_imgs} alt=\"\" /></>}\r\n                                                </div>\r\n                                        )): \"No Images\"}\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"sourceRoot":""}